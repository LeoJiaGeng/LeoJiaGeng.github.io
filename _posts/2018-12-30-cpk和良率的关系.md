---
layout:     post
title:      cpk和良率的关系
subtitle:   常用cpk代表良率，靠谱吗？
date:       2018-12-10
author:     Henri Jambo
header-img: img/post-bg-miui6.jpg
catalog: 	  true
tags:
    - 六西格玛
---
前两天在群里看到一段消息，觉得很有意思，想分享一下自己的见解。

### 一、☘问题

> **有个人说：**“产品每个工序的CPK指标都很好（>1.33），但最终的成品合格率很低（<85%）”
>
> **另有个人说：**“我遇到过一个产品有多个尺寸，每个尺寸CPK高，但整体良率低的现象”

经过思考，这两个问题原理应该差不多，只是分析问题的维度不一样，一个是产品的多个工序过程，另一个是产品单工序的多个尺寸的单独过程

前面已经学过，CPK的数值与DPMO（百万分之的缺陷数）对应，这就表明CPK和良率是直接挂钩的，依据这条理论，与上述两个人所描述的问题是矛盾的，所以这就是比较有趣的地方，来整理一下思路

```
抛出问题的人说：“没有不合格的数据，都被机器打点剔掉了”
```

极其有可能他未考虑不良的产品，并没有将它放入CPK的计算当中，那么很明显是“数据作假”，只要我不统计不良品，那么CPK就会很高，这很川建国！

### 二、继续分析

那么针对CPK偏高但良率偏低的事情，我们继续分析还有哪些可能？先看公式，从公式里面找原因

1. 一部分工艺范围设置不合理，组合起来干扰整体
2. 数据存在异常值
3. 取样方式不合理，选取都是同批产品，而批次间差异较大
4. …………

### 三、举例

第一条：工艺范围偏大

在此想啰嗦一句，工艺范围是需要考虑各方面因素，包括许多不可控的因素，才能制定出合理的工艺范围，而不是拍脑袋行事，只会害苦更多的人。

下面让我来画（编）图说明

每个零配件的工艺范围不合理，看似每个零件的CPK很高，但装配体良率会下降。这个需要在设计前期进行公差分析，如果需要更高的制程能力，建议做容差分析，这个后续可能解释

第二条：数据存在个别异常值

CPK可能会出现较高的情况，若每个参数或者工序均出现这样的异常，即使异常的概率是1%，当然，1%已经很严重，那么十个参数或者工序累积下来，整体良率仅到达99% ^ 10 = 90%

第三条：取样方式不合理

当数据出现多峰，每个子组内标准差很小，合并标准差会偏小，导致CPK偏大，但此时观察PPK，会发现其数值偏低。

### 四、总结

本来想了很多原因，后来发现，忘记统计不良品是制造过失，工艺范围偏大是设计不合理，剩余大部分原因皆是对制程能力理解不够透彻，前面已经说到，不可以单独看CPK的数值，至少需要结合Cp一起来观察制程过程。不过，引发了我去探究容差分析，后续应该还有续集
